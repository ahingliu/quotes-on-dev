jQuery(document).ready(()=>{window.addEventListener("popstate",()=>{window.location=window.location}),jQuery("#another").on("click",function(e){e.preventDefault(),jQuery.ajax({method:"GET",cache:!1,url:red_vars.rest_url+"wp/v2/posts?_embed=true&filter[orderby]=rand&filter[posts_per_page]=1",data:{comment_status:"closed"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(e){history.pushState(null,null,e[0].slug);for(let t=0;t<e.length;t++)jQuery("article").empty().append(`\n            <p>${e[t].content.rendered}</p>\n            <h3> - ${e[t].title.rendered}\n            ${e[t]._qod_quote_source_url&&`,\n            <a href="${e[t]._qod_quote_source_url}"> ${e[t]._qod_quote_source}</a></h3>\n           `}`)})})}),jQuery("#submit").on("click",function(e){e.preventDefault();let t={title:jQuery("#author-quote").val(),content:jQuery("#content-quote").val(),source:jQuery("#quote-source").val(),source_url:jQuery("#quote-source-url").val(),status:"pending"},r=red_vars.rest_url+"wp/v2/posts/";jQuery.ajax({method:"POST",cache:!1,url:r,dataType:"json",data:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(){jQuery("#sub-quote-form").hide(),jQuery(".entry-header").hide(),jQuery(".quote-sub-form-section").append('<div class="sub-result"><h1>Thank you for your submission!</h1></div>')}).fail(function(){jQuery("#sub-quote-form").hide(),jQuery(".entry-header").hide(),jQuery(".quote-sub-form-section").append("<h1>Ops, something went wrong!</h1>")})});